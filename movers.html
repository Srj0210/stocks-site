document.addEventListener("DOMContentLoaded", async () => {
  showLoader("moversList");
  try {
    const data = await fetchData();
    paginate("moversList", data.movers || [],
      m => {
        let bg = "bg-gray-500";
        let ch = parseFloat(m["Change%"]);
        if (!isNaN(ch)) {
          if (ch > 0) bg = "bg-green-600";
          else if (ch < 0) bg = "bg-red-600";
        }
        return `<div class="searchable p-3 rounded text-white ${bg}">
                  ${m.Name} ₹${m.CMP} (${m["Change%"]})
                </div>`;
      },
      12
    );
  } catch {
    document.getElementById("moversList").innerHTML =
      `<p class="text-red-500">❌ Error loading movers</p>`;
  }
});